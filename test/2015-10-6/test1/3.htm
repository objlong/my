<!DOCTYPE html>
<!-- saved from url=(0058)http://bbs.miaov.com/online_class/JS1-lesson-gif/JS17.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>无标题文档</title>
<script>
window.onload = function () {
	var oUl = document.getElementById('list');
	var aLi = oUl.getElementsByTagName('li');
	var al = document.getElementById('al');
	var num = al.getElementsByTagName('strong')[0];
	var total = al.getElementsByTagName('span')[0];
	// fnCount ( aLi[0] );
	for ( var i=0; i<aLi.length; i++ ) {
		fnCount ( aLi[i] , num , total );
	}
	
	function fnCount ( li , num , total ) {
		var aBtn = li.getElementsByTagName ('input');
		var oStrong = li.getElementsByTagName ('strong')[0];
		var oEm = li.getElementsByTagName ('em')[0];
		var oSpan = li.getElementsByTagName ('span')[0];
		var n = oStrong.innerHTML;			// '0'
		var price = parseFloat(oEm.innerHTML);			// 12.5
		
		aBtn[0].onclick = function () {
			if ( n > 0 ) {
				n--;		
			oStrong.innerHTML = n;
			oSpan.innerHTML = n*price + '元';
			var aprice = parseFloat(oSpan.innerHTML);
			num.innerHTML = Number(num.innerHTML)- 1;
			total.innerHTML =Number(total.innerHTML)-price;
			}
		};
		aBtn[1].onclick = function () {
			n++;
			oStrong.innerHTML = n;
			oSpan.innerHTML = n*price + '元';
			var aprice = parseFloat(oSpan.innerHTML);
			num.innerHTML = Number(num.innerHTML)+ 1;
			total.innerHTML =Number(total.innerHTML)+price;
		};

	}
};
</script>
</head>

<body>

<ul id="list">
	<li>
  	<input type="button" value="-">
    <strong>0</strong>
  	<input type="button" value="+">
    单价：<em>12.5元</em>
    小计：<span>0元</span>
  </li>
	<li>
  	<input type="button" value="-">
    <strong>0</strong>
  	<input type="button" value="+">
    单价：<em>10.5元</em>
    小计：<span>0元</span>
  </li>
	<li>
  	<input type="button" value="-">
    <strong>0</strong>
  	<input type="button" value="+">
    单价：<em>8.5元</em>
    小计：<span>0元</span>
  </li>
	<li>
  	<input type="button" value="-">
    <strong>0</strong>
  	<input type="button" value="+">
    单价：<em>8元</em>
    小计：<span>0元</span>
  </li>
	<li>
  	<input type="button" value="-">
    <strong>0</strong>
  	<input type="button" value="+">
    单价：<em>14.5元</em>
    小计：<span>0元</span>
  </li>
</ul>

<p id="al">
商品合计共：<strong>0</strong>件，共花费了：<span>0</span>元<br>
其中最贵的商品单价是：0元
</p>



</body></html>